<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Continuous Delivery in Booktrack</title>

		<meta name="description" content="Using azure it is easy to publish SPA">
		<meta name="author" content="Konstantin Raev, Richard Sentino">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
		<link rel="stylesheet" href="bower_components/reveal.js/css/theme/sky.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css">
	</head>

	<body>

		<div class="reveal">
			<div class="slides">
				<section data-background="images/website.png">
					<h1 style="color: white; background-color: rgba(19, 43, 55, 0.70)">Continuous deployment of a Single Page Application on Azure</h1>
				</section>
                <section>
                    <h3>Part of dev team @ Booktrack</h3>
                    <ul>
                        <li>
                            <p><img width="100px" height="100px" src="images/bestander.jpeg"> Konstantin Raev</p>
                            <p><a href="https://twitter.com/bestander_nz">@bestander_nz</a></p>
                            <p><a href="https://github.com/bestander">github/bestander</a></p>
                        </li>
                        <li>
                            <p><img width="100px" height="100px" src="images/rixrix.jpeg"> Richard Sentino</p>
                            <p><a href="https://twitter.com/mindginative">@mindginative</a></p>
                            <p><a href="https://github.com/rixrix">github/rixrix</a></p>
                        </li>
                    </ul>
                </section>
                <section data-background="images/platforms.png">
                </section>
                <section>
                    <p><img src="images/hypno.gif"></p>
                    visit <a target="_blank" href="http://www.booktrack.com">www.booktrack.com</a>
                </section>
				<section>
					<section>
						<h2>Our front end stack</h2>
                        <h4>defeating complexity with abstractions</h4>
                        <ul>
                            <li>Angular.js</li>
                            <li>Typescript</li>
                            <li>CSS Preprocessors</li>
                            <li>Bower</li>
                        </ul>
					</section>
                    <section>
                        <h3>Angular.js</h3>
                        <img src="images/angular_example.png">
                    </section>
                    <section>
                        <img src="images/anglar-dir-js.png">
                    </section>
                    <section>
                        <h2>Typescript</h2>
						<h3>A superset of EcmaScript 6 with compile time type checking</h3>
                        <img class="stretch" src="images/typescript-classes.png">
					</section>
                    <section>
                        <img class="stretch" src="images/typescript-module.png">
					</section>
                    <section>
                        <img class="stretch" src="images/typescript-compiled.png">
					</section>
                    <section>
						<h3>Typescript + Angular</h3>
                        <img src="images/typescript_angular_webstorm.png">
					</section>
					<section>
						<h3>Stylus</h3>
                        <img src="images/stylus.png">
					</section>
				</section>

                <section>
                    <h2>Performance matters</h2>
                    <img src="images/perf-matters.png">
                    <a href="https://www.youtube.com/watch?v=7ubJzEi3HuA">https://www.youtube.com/watch?v=7ubJzEi3HuA</a>
                </section>
                <section>
                    <h4>Bing experiment</h4>
                    <img src="images/bingdata1.png">
                </section>
                <section>
                    <section>
                        <h2>Things we do to improve performance</h2>
                        <ul>
                            <li>Use Content Delivery Network to server files from closest location</li>
                            <li>Reduce download size of scripts, styles and images</li>
                            <li>Bundle multiple files into one</li>
                            <li>Eagerly download only content "above the fold"</li>
                            <li>Use browser cache</li>
                        </ul>
                    </section>
                    <section>
                        <img src="images/aws-cloudfron-dyn-cdn.png">
                    </section>
                    <section>
                        <img src="images/booktrack-min.png">
                    </section>
                    <section>
                        <img src="images/booktrack-download.png">
                    </section>
                    <section>
                        <h3>Cache busted</h3>
                        <img src="images/cache-busting.png">
                    </section>
                </section>

                <section>
					<h2>How to do all this reliably?</h2>
                    <p>funny image</p>
				</section>

                <section>
					<h2>Using JavaScript and Node.js as CLI tool</h2>
                    <p>funny image</p>
				</section>

				<section>
					<h4>All Node build/integration tools are based on file matching configurations</h4>
                    <pre>
                        <code data-trim>
main: {
    src: ['app/**/*.ts', 'test/**/*.ts']
}
                        </code>
                    </pre>
				</section>

                <section>
                    <img src="images/grunt-logo.png">
                </section>
                <section>
                    <img src="images/grunt-setup.png">
                </section>

                <section>
                    <h2>Problem?</h2>
                    <p>Order of tasks execution</p>
                    FUNNY IMAGE
                </section>

                <section>
                    <img src="images/gulp-2x.png">
                </section>

                <section>
                    <img src="images/gulp-task.png">
                </section>

                <section>
                    <section style="font-weight: 800; color: white; background-color: rgba(10, 10, 10, 0.5)" data-background="images/cartman.jpg">
                        <h2 style="color: #ffffff">Deployment steps</h2>
                        <ol>
                            <li>Compile and minify stuff with Gulp</li>
                            <li>Put it in the CLOUD</li>
                            <li>???</li>
                            <li>PROFIT</li>
                        </ol>
                    </section>
                    <section>
                        <h3>Microsoft Azure has Node.js SDK</h3>
                        <img src="images/node-azure.png">
                    </section>
                    <section>
                        <h4>Checkout <a href="https://github.com/bestander/deploy-azure-cdn" target="_blank">github.com/bestander/deploy-azure-cdn</a></h4>
                        <img src="images/node-azure-deploy.png">
                    </section>
                </section>

                <section>
                    <h2>Final point</h2>
                    <ol>
                        <li class="fragment roll-in">Organize your project with your favorite preprocessors</li>
                        <li class="fragment roll-in">Use Node.js CLI to build deployment artifacts</li>
                        <li class="fragment roll-in">Use Node.js to deploy to CDN</li>
                    </ol>
                </section>





                <section>
                    <section>
                        <h1>Continuous Delivery Pipeline</h1>
                        <h3>Team - Version Control - Build - Test - CI/Deployment - UAT/QA - Production</h3 >
                    </section>
                </section>
                <section>
                    <section>
                        <h1>Team</h1>
                    </section>
                    <section>
                        <h3>Planning</h3>
                        <p>User Experience</p>
                        <p>User Interface</p>
                        <p>Dev team (front-end / back-end / mobile)</p>
                        <p>
                            <img src="images/meeting.jpg" height="250px">
                        </p>
                    </section>
                    <section>
                        <h3>Development Workflow</h3>
                        <img src="images/gitflow.png" style="background-color: #ffffff">
                    </section>
                    <section>
                        <h2>Cont. Integration on my local</h2>
                        <p><img src="images/obama-face.png"></p>
                        <p>really ?</p>
                    </section>
                    <section>
                        <h2>Cont. Integration on my local</h2>
                        <p>Compile TypeScript</p>
                        <p>Compile Stylus</p>
                        <p>Run Jasmine/Karma tests</p>
                    </section>
                </section>

                <section>
                    <h2>Continuous Integration w/ Codeship.IO</h2>
                    <ul>
                        <li>Watches bitbucket repo</li>
                        <li>Deploy to Dev or Production</li>
                        <li>Free and paid options</li>
                    </ul>
                    <p>add more details here</p>
                </section>
                <section>
                    <h2>Deployment</h2>
                    <ul>
                        <li>work on local branch</li>
                        <li>push to master for QA/Others to test</li>
                        <li>Master branch > for demo</li>
                        <li>Production branch > for prod release</li>
                    </ul>
                </section>
                <section>
                    <h2>Azure</h2>
                    <ul>
                        <li>Upload to CDN</li>
                        <li>No IIS/Apache/Nginx</li>
                        <li>all assets</li>
                    </ul>
                    <p>add more details here</p>
                </section>
                <section>
                    <h2>Azure - Scalability</h2>
                    <ul>
                        <li>serve files from the closest location</li>
                        <li>server locations: asia, uk, us, etc ???</li>
                    </ul>
                </section>

                <!-- ending/summary -->
                <section>
                    <h2>Importance of Automation</h2>
                    <p>save time</p>
                    <p>focus on important tasks</p>
                    <p>faster development</p>
                </section>

                <section>
                    <h2>Continuous Improvement</h2>
                    <p>pair programming</p>
                    <p>refactor early, refactor often, small stuff</p>
                </section>

                <section>
                    <h2>Summary</h2>
                </section>

                <section>
                    <h2>Thank you!</h2>
                </section>


				<section>
					<section data-background="#007777">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#007777"</code> on a slide to change the full page background to the given color. All CSS color formats are supported.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png">
						<h2>Image Backgrounds</h2>
						<pre><code>&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Repeated Image Backgrounds</h2>
						<pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
				</section>

				<section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
					<h2>Background Transitions</h2>
					<p>
						Pass reveal.js the <code>backgroundTransition: 'slide'</code> config argument to make backgrounds slide rather than fade.
					</p>
				</section>

				<section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
					<h2>Background Transition Override</h2>
					<p>
						You can override background transitions per slide by using <code>data-background-transition="slide"</code>.
					</p>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-current-blue">highlight-current-blue</p>
					</section>
				</section>

				<section>
					<h2>Spectacular image!</h2>
					<a class="image" href="http://lab.hakim.se/meny/" target="_blank">
						<img width="320" height="299" src="http://s3.amazonaws.com/hakim-static/portfolio/images/meny.png" alt="Meny">
					</a>
				</section>


			</div>

		</div>

		<script src="bower_components/reveal.js/lib/js/head.min.js"></script>
		<script src="bower_components/reveal.js/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
//					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
//					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
//					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
